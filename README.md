Телеграм-бот для предсказания количества лайков на постах на основе анализа текста.

## Описание проекта

Этот проект состоит из API для предсказания популярности постов в социальных сетях и Telegram-бота, который взаимодействует с пользователем для ввода данных о постах и получения предсказаний. 

**Основные компоненты проекта:**

- API на Flask для обработки запросов и выполнения предсказаний с использованием обученной модели машинного обучения (файл apy.py).

- Telegram-бот на основе библиотеки aiogram, который взаимодействует с пользователем (файл bot1.py).

- Модель машинного обучения в формате ridge_model.pkl.

- Тесты для проверки функциональности бота (файл test_bot.py).

## Требования

Перед запуском проекта убедитесь, что у вас установлено:

- Python 3.8 или выше

- Git

- Виртуальное окружение (рекомендуется)

## Telegram бот: @PostAnalyzer_Bot

![2024-12-20_13-22-12](https://github.com/user-attachments/assets/a5cf62b7-cb07-49ee-8b18-b9f30fc70f96)
![2024-12-20_13-22-56](https://github.com/user-attachments/assets/ac3896de-20c1-4126-94c3-50f7e6547643)


## Установка и запуск

### 1. Клонирование репозитория
Клонируйте репозиторий проекта с GitHub:

```bash
git clone https://github.com/iinabe/project_adimo.git
cd project_adimo
```

### 2. Установка зависимостей
Рекомендуется использовать виртуальное окружение для изоляции проекта:

```bash
python3 -m venv venv
source venv/bin/activate  # Для Linux/MacOS
venv\Scripts\activate   # Для Windows
```

Установите все зависимости:

```bash
pip install -r requirements.txt
```

### 3. Запуск API
1. Убедитесь, что файл модели `ridge_model.pkl` находится в корне проекта.
2. Запустите сервер API:

```bash
python apy.py
```

API будет доступен по адресу: `http://127.0.0.1:5000`

### 4. Запуск Telegram-бота
1. Убедитесь, что вы указали правильный токен бота в файле `bot1.py` (переменная `BOT_TOKEN`). Получить токен можно у [BotFather](https://t.me/botfather).
2. Запустите бота:

```bash
python bot1.py
```

3. Бот начнет взаимодействие в Telegram.

### 5. Тестирование
Чтобы проверить функциональность бота и API, выполните тесты:

```bash
pytest test_bot.py
```

### Пример взаимодействия с ботом
1. Введите команду `/start`, чтобы начать взаимодействие.
2. Следуйте инструкциям бота для ввода текста поста, даты публикации и хэштегов.
3. После ввода всех данных бот отправит запрос к API и вернет предсказание.

## Примечания
- Убедитесь, что Telegram-бот и API запущены одновременно, так как бот взаимодействует с API по адресу `http://127.0.0.1:5000`.
- Для изменения порта или конфигурации сервера API, обновите файл `apy.py`.

## Возможные проблемы и их решения
1. **Ошибка "ModuleNotFoundError"**:
   Убедитесь, что все зависимости установлены из файла `requirements.txt`.

2. **Ошибка соединения между ботом и API**:
   Проверьте, что API запущен и доступен по адресу `http://127.0.0.1:5000`.

3. **Неверный формат даты**:
   Убедитесь, что дата введена в формате `YYYY-MM-DD`.


